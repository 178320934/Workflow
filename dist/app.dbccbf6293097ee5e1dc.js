(function(e){function t(t){for(var o,i,d=t[0],a=t[1],c=t[2],u=0,l=[];u<d.length;u++)i=d[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&l.push(r[i][0]),r[i]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);f&&f(t);while(l.length)l.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,i=1;i<n.length;i++){var d=n[i];0!==r[d]&&(o=!1)}o&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},i={app:0},r={app:0},s=[];function d(e){return a.p+"js/"+({}[e]||e)+"."+{"chunk-35520875":"7a2022f0"}[e]+".js"}function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],n={"chunk-35520875":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var o="css/"+({}[e]||e)+"."+{"chunk-35520875":"7a8c6304"}[e]+".css",r=a.p+o,s=document.getElementsByTagName("link"),d=0;d<s.length;d++){var c=s[d],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===o||u===r))return t()}var l=document.getElementsByTagName("style");for(d=0;d<l.length;d++){c=l[d],u=c.getAttribute("data-href");if(u===o||u===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var o=t&&t.target&&t.target.src||r,s=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=o,delete i[e],f.parentNode.removeChild(f),n(s)},f.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){i[e]=0})));var o=r[e];if(0!==o)if(o)t.push(o[2]);else{var s=new Promise((function(t,n){o=r[e]=[t,n]}));t.push(o[2]=s);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,a.nc&&u.setAttribute("nonce",a.nc),u.src=d(e);var l=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(f);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,n[1](l)}r[e]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/Workflow/",a.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var f=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"00fe":function(e,t,n){"use strict";n("aea1")},"034f":function(e,t,n){"use strict";n("450d")},"450d":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("3269"),n("d0f2"),n("25ba"),n("5f1c"),n("6ba0"),n("b47f"),n("9f45");var o=n("430a"),i=(n("aa18"),n("982e"),n("f7f2"),n("73ab"),n("e762")),r=n.n(i),s=(n("a2f0"),n("2500")),d=n.n(s),a=n("4ff3"),c=n.n(a),u=n("a5e4");o["default"].use(u["a"]);var l=new u["a"]({routes:[{path:"/",component:function(e){n.e("chunk-35520875").then(function(){var t=[n("79d9")];e.apply(null,t)}.bind(this)).catch(n.oe)}}]});n("a450"),n("4057"),n("fc02");function f(){}f.prototype={timer:"",debounce:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=this;return function(o){var i=this,r=o;clearTimeout(n.timer),n.timer=setTimeout((function(){e.call(i,r)}),t)}},setCookie:function(e){for(var t=0,n=e.length;t<n;t++)for(var o in e[t])document.cookie=o+"="+encodeURIComponent(e[t][o])+"; path=/"},getCookie:function(e){for(var t=document.cookie,n=t.split("; "),o=0,i=n.length;o<i;o++){var r=n[o].split("=");if(e==r[0])return decodeURIComponent(r[1])}},clearCookie:function(e){var t=new Date;t.setTime(-1e3);for(var n=0,o=e.length;n<o;n++)document.cookie=e[n]+"=''; path=/; expires="+t.toGMTString()},arrToStr:function(e){if(e)return e.map((function(e){return e.name})).toString()},toggleClass:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";return e.some((function(e){return e[n]==t[n]}))},toChecked:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",o=this.toggleClass(e,t,n);o?this.removeEle(e,t,n):e.push(t)},removeEle:function(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";e.map((function(e,i){e[o]==t[o]&&(n=i)})),e.splice(n,1)},setApproverStr:function(e){if(1==e.settype){if(1==e.nodeUserList.length)return e.nodeUserList[0].name;if(e.nodeUserList.length>1){if(1==e.examineMode)return this.arrToStr(e.nodeUserList);if(2==e.examineMode)return e.nodeUserList.length+"人会签"}}else if(2==e.settype){var t=1==e.directorLevel?"直接主管":"第"+e.directorLevel+"级主管";if(1==e.examineMode)return t;if(2==e.examineMode)return t+"会签"}else{if(4==e.settype)return 1==e.selectRange?"发起人自选":e.nodeUserList.length>0?2==e.selectRange?"发起人自选":"发起人从"+e.nodeUserList[0].name+"中自选":"";if(5==e.settype)return"发起人自己";if(7==e.settype)return"从直接主管到通讯录中级别最高的第"+e.examineEndDirectorLevel+"个层级主管"}},dealStr:function(e,t){var n=[],o=e.split(",");for(var i in t)o.map((function(e){e==i&&n.push(t[i].value)}));return n.join("或")},conditionStr:function(e,t){var n=e.conditionNodes[t],o=n.conditionList,i=n.nodeUserList;if(0==o.length)return t==e.conditionNodes.length-1&&0!=e.conditionNodes[0].conditionList.length?"其他条件进入此流程":"请设置条件";for(var r="",s=0;s<o.length;s++){var d=o[s],a=d.columnId,c=d.columnType,u=d.showType,l=d.showName,f=d.optType,p=d.zdy1,h=d.opt1,g=d.zdy2,v=d.opt2,C=d.fixedDownBoxValue;if(0==a&&0!=i.length&&(r+="发起人属于：",r+=i.map((function(e){return e.name})).join("或")+" 并且 "),"String"==c&&"3"==u&&p&&(r+=l+"属于："+this.dealStr(p,JSON.parse(C))+" 并且 "),"Double"==c)if(6!=f&&p){var m=["","<",">","≤","=","≥"][f];r+="".concat(l," ").concat(m," ").concat(p," 并且 ")}else 6==f&&p&&g&&(r+="".concat(p," ").concat(h," ").concat(l," ").concat(v," ").concat(g," 并且 "))}return r?r.substring(0,r.length-4):"请设置条件"},copyerStr:function(e){return 0!=e.nodeUserList.length?this.arrToStr(e.nodeUserList):1==e.ccSelfSelectFlag?"发起人自选":void 0},toggleStrClass:function(e,t){var n=e.zdy1?e.zdy1.split(","):[];return n.some((function(e){return e==t}))}};var p,h=new f,g=0;function v(){0===g&&m(),g++}function C(){g<=0||(g--,0===g&&setTimeout((function(){N()}),200))}function m(){p=d.a.service({lock:!0,background:"rgba(0, 0, 0, 0.2)",spinner:"my-el-custom-spinner"})}function N(){p.close()}var y={timeout:1e4},b=c.a.create(y);b.interceptors.request.use((function(e){return!1!==e.loading&&v(),e}),(function(e){return Promise.reject(e)})),b.interceptors.response.use((function(e){return C(),e.data.code&&200!=e.data.code?("登录用户ID不能为空"==e.data.msg&&(h.clearCookie(["token","uid"]),window.location.href="/login"),void r.a.error(e.data.msg)):e.data}),(function(e){return C(),(e.message.includes("timeout")||502==e.response.status)&&l.push({path:"/500",query:{redirect:l.currentRoute.query.redirect?l.currentRoute.query.redirect:l.currentRoute.fullPath}}),e.response.data.code&&200!=e.response.data.code&&r.a.error(e.response.data.msg),Promise.reject(e)})),Plugin.install=function(e,t){e.axios=b,window.axios=b,Object.defineProperties(e.prototype,{axios:{get:function(){return b}},$axios:{get:function(){return b}}})},o["default"].use(Plugin);Plugin;var _=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},w=[],P={name:"app"},$=P,L=(n("034f"),n("cba8")),S=Object(L["a"])($,_,w,!1,null,null,null),T=S.exports,k=n("7736");o["default"].use(k["a"]);var x=new k["a"].Store({state:{promoterDrawer:!1,flowPermission:[],approverDrawer:!1,approverConfig:{},copyerDrawer:!1,copyerConfig:{},conditionDrawer:!1,conditionsConfig:{conditionNodes:[]}},mutations:{updatePromoter:function(e,t){e.promoterDrawer=t},updateFlowPermission:function(e,t){e.flowPermission=t},updateApprover:function(e,t){e.approverDrawer=t},updateApproverConfig:function(e,t){e.approverConfig=t},updateCopyer:function(e,t){e.copyerDrawer=t},updateCopyerConfig:function(e,t){e.copyerConfig=t},updateCondition:function(e,t){e.conditionDrawer=t},updateConditionsConfig:function(e,t){e.conditionsConfig=t}},actions:{}}),O=(n("9903"),n("b4d4")),j=n.n(O),E=(n("a24b"),n("aff5")),D=n.n(E),I=(n("8dc2"),n("06f6")),U=n.n(I),A=(n("9da7"),n("c404")),M=n.n(A),J=(n("b40f"),n("2634")),R=n.n(J),q=(n("9811"),n("d53c")),F=n.n(q),W=(n("d6f8"),n("d105")),z=n.n(W),B=(n("bebc"),n("8c6b")),H=n.n(B),G=(n("0cb5"),n("e95a")),K=n.n(G),V=(n("e4dc"),n("7802")),Q=n.n(V),X=(n("096b"),n("bf6d")),Y=n.n(X),Z=(n("9f13"),n("f3b1")),ee=n.n(Z),te=(n("7375"),n("7e78")),ne=n.n(te);n("e9b7");o["default"].use(ne.a),o["default"].use(ee.a),o["default"].use(Y.a),o["default"].use(Q.a),o["default"].use(K.a),o["default"].use(H.a),o["default"].use(z.a),o["default"].use(F.a),o["default"].use(R.a),o["default"].use(M.a),o["default"].use(U.a),o["default"].use(D.a),o["default"].use(j.a),o["default"].prototype.$message={error:function(e){r.a.closeAll(),r.a.error(e)},success:function(e){r.a.closeAll(),r.a.success(e)}};n("c8d2");var oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[4!=e.nodeConfig.type?n("div",{staticClass:"node-wrap"},[n("div",{staticClass:"node-wrap-box",class:(0==e.nodeConfig.type?"start-node ":"")+(e.isTried&&e.nodeConfig.error?"active error":"")},[n("div",[n("div",{staticClass:"title",style:"background: rgb("+["87, 106, 149","255, 148, 62","50, 150, 250"][e.nodeConfig.type]+");"},[n("span",{directives:[{name:"show",rawName:"v-show",value:1==e.nodeConfig.type,expression:"nodeConfig.type==1"}],staticClass:"iconfont"},[e._v("")]),n("span",{directives:[{name:"show",rawName:"v-show",value:2==e.nodeConfig.type,expression:"nodeConfig.type==2"}],staticClass:"iconfont"},[e._v("")]),0==e.nodeConfig.type?n("span",[e._v(e._s(e.nodeConfig.nodeName))]):e._e(),0!=e.nodeConfig.type&&e.isInput?n("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.nodeConfig.nodeName,expression:"nodeConfig.nodeName"}],staticClass:"ant-input editable-title-input",attrs:{type:"text",placeholder:e.placeholderList[e.nodeConfig.type]},domProps:{value:e.nodeConfig.nodeName},on:{blur:function(t){return e.blurEvent()},focus:function(e){return e.currentTarget.select()},input:function(t){t.target.composing||e.$set(e.nodeConfig,"nodeName",t.target.value)}}}):e._e(),0==e.nodeConfig.type||e.isInput?e._e():n("span",{staticClass:"editable-title",on:{click:function(t){return e.clickEvent()}}},[e._v(e._s(e.nodeConfig.nodeName))]),0!=e.nodeConfig.type?n("i",{staticClass:"anticon anticon-close close",on:{click:function(t){return e.delNode()}}}):e._e()]),n("div",{staticClass:"content",on:{click:e.setPerson}},[0==e.nodeConfig.type?n("div",{staticClass:"text"},[e._v(e._s(e.$func.arrToStr(e.flowPermission)?e.$func.arrToStr(e.flowPermission):"所有人"))]):e._e(),1==e.nodeConfig.type?n("div",{staticClass:"text"},[e.$func.setApproverStr(e.nodeConfig)?e._e():n("span",{staticClass:"placeholder"},[e._v("请选择"+e._s(e.placeholderList[e.nodeConfig.type]))]),e._v("\n                        "+e._s(e.$func.setApproverStr(e.nodeConfig))+"\n                    ")]):e._e(),2==e.nodeConfig.type?n("div",{staticClass:"text"},[e.$func.copyerStr(e.nodeConfig)?e._e():n("span",{staticClass:"placeholder"},[e._v("请选择"+e._s(e.placeholderList[e.nodeConfig.type]))]),e._v("\n                        "+e._s(e.$func.copyerStr(e.nodeConfig))+"\n                    ")]):e._e(),n("i",{staticClass:"anticon anticon-right arrow"})]),e.isTried&&e.nodeConfig.error?n("div",{staticClass:"error_tip"},[n("i",{staticClass:"anticon anticon-exclamation-circle",staticStyle:{color:"rgb(242, 86, 67)"}})]):e._e()])]),n("addNode",{attrs:{childNodeP:e.nodeConfig.childNode},on:{"update:childNodeP":function(t){return e.$set(e.nodeConfig,"childNode",t)},"update:child-node-p":function(t){return e.$set(e.nodeConfig,"childNode",t)}}})],1):e._e(),4==e.nodeConfig.type?n("div",{staticClass:"branch-wrap"},[n("div",{staticClass:"branch-box-wrap"},[n("div",{staticClass:"branch-box"},[n("button",{staticClass:"add-branch",on:{click:e.addTerm}},[e._v("添加条件")]),e._l(e.nodeConfig.conditionNodes,(function(t,o){return n("div",{key:o,staticClass:"col-box"},[n("div",{staticClass:"condition-node"},[n("div",{staticClass:"condition-node-box"},[n("div",{staticClass:"auto-judge",class:e.isTried&&t.error?"error active":""},[0!=o?n("div",{staticClass:"sort-left",on:{click:function(t){return e.arrTransfer(o,-1)}}},[e._v("<")]):e._e(),n("div",{staticClass:"title-wrapper"},[e.isInputList[o]?n("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.nodeName,expression:"item.nodeName"}],staticClass:"ant-input editable-title-input",attrs:{type:"text"},domProps:{value:t.nodeName},on:{blur:function(t){return e.blurEvent(o)},focus:function(e){return e.currentTarget.select()},input:function(n){n.target.composing||e.$set(t,"nodeName",n.target.value)}}}):e._e(),e.isInputList[o]?e._e():n("span",{staticClass:"editable-title",on:{click:function(t){return e.clickEvent(o)}}},[e._v(e._s(t.nodeName))]),n("span",{staticClass:"priority-title",on:{click:function(n){return e.setPerson(t.priorityLevel)}}},[e._v("优先级"+e._s(t.priorityLevel))]),n("i",{staticClass:"anticon anticon-close close",on:{click:function(t){return e.delTerm(o)}}})]),o!=e.nodeConfig.conditionNodes.length-1?n("div",{staticClass:"sort-right",on:{click:function(t){return e.arrTransfer(o)}}},[e._v(">")]):e._e(),n("div",{staticClass:"content",on:{click:function(n){return e.setPerson(t.priorityLevel)}}},[e._v(e._s(e.$func.conditionStr(e.nodeConfig,o)))]),e.isTried&&t.error?n("div",{staticClass:"error_tip"},[n("i",{staticClass:"anticon anticon-exclamation-circle",staticStyle:{color:"rgb(242, 86, 67)"}})]):e._e()]),n("addNode",{attrs:{childNodeP:t.childNode},on:{"update:childNodeP":function(n){return e.$set(t,"childNode",n)},"update:child-node-p":function(n){return e.$set(t,"childNode",n)}}})],1)]),t.childNode&&t.childNode?n("nodeWrap",{attrs:{nodeConfig:t.childNode,tableId:e.tableId,isTried:e.isTried},on:{"update:nodeConfig":function(n){return e.$set(t,"childNode",n)},"update:node-config":function(n){return e.$set(t,"childNode",n)},"update:isTried":function(t){e.isTried=t},"update:is-tried":function(t){e.isTried=t}}}):e._e(),0==o?n("div",{staticClass:"top-left-cover-line"}):e._e(),0==o?n("div",{staticClass:"bottom-left-cover-line"}):e._e(),o==e.nodeConfig.conditionNodes.length-1?n("div",{staticClass:"top-right-cover-line"}):e._e(),o==e.nodeConfig.conditionNodes.length-1?n("div",{staticClass:"bottom-right-cover-line"}):e._e()],1)}))],2),n("addNode",{attrs:{childNodeP:e.nodeConfig.childNode},on:{"update:childNodeP":function(t){return e.$set(e.nodeConfig,"childNode",t)},"update:child-node-p":function(t){return e.$set(e.nodeConfig,"childNode",t)}}})],1)]):e._e(),e.nodeConfig.childNode&&e.nodeConfig.childNode?n("nodeWrap",{attrs:{nodeConfig:e.nodeConfig.childNode,tableId:e.tableId,isTried:e.isTried},on:{"update:nodeConfig":function(t){return e.$set(e.nodeConfig,"childNode",t)},"update:node-config":function(t){return e.$set(e.nodeConfig,"childNode",t)},"update:isTried":function(t){e.isTried=t},"update:is-tried":function(t){e.isTried=t}}}):e._e()],1)},ie=[],re=(n("ac67"),n("1bc7"),n("32ea"),n("8ee4"));function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){Object(re["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae={props:["nodeConfig","flowPermission","isTried","tableId"],data:function(){return{placeholderList:["发起人","审核人","抄送人"],isInputList:[],isInput:!1}},mounted:function(){if(1==this.nodeConfig.type)this.nodeConfig.error=!this.$func.setApproverStr(this.nodeConfig);else if(2==this.nodeConfig.type)this.nodeConfig.error=!this.$func.copyerStr(this.nodeConfig);else if(4==this.nodeConfig.type)for(var e=0;e<this.nodeConfig.conditionNodes.length;e++)this.nodeConfig.conditionNodes[e].error="请设置条件"==this.$func.conditionStr(this.nodeConfig,e)&&e!=this.nodeConfig.conditionNodes.length-1},computed:{flowPermission1:function(){return this.$store.state.flowPermission},approverConfig1:function(){return this.$store.state.approverConfig},copyerConfig1:function(){return this.$store.state.copyerConfig},conditionsConfig1:function(){return this.$store.state.conditionsConfig}},watch:{flowPermission1:function(e){e.flag&&e.id===this._uid&&this.$emit("update:flowPermission",e.value)},approverConfig1:function(e){e.flag&&e.id===this._uid&&this.$emit("update:nodeConfig",e.value)},copyerConfig1:function(e){e.flag&&e.id===this._uid&&this.$emit("update:nodeConfig",e.value)},conditionsConfig1:function(e){e.flag&&e.id===this._uid&&this.$emit("update:nodeConfig",e.value)}},methods:{clickEvent:function(e){e||0===e?this.$set(this.isInputList,e,!0):this.isInput=!0},blurEvent:function(e){e||0===e?(this.$set(this.isInputList,e,!1),this.nodeConfig.conditionNodes[e].nodeName=this.nodeConfig.conditionNodes[e].nodeName?this.nodeConfig.conditionNodes[e].nodeName:"条件"):(this.isInput=!1,this.nodeConfig.nodeName=this.nodeConfig.nodeName?this.nodeConfig.nodeName:this.placeholderList[this.nodeConfig.type])},delNode:function(){this.$emit("update:nodeConfig",this.nodeConfig.childNode)},addTerm:function(){var e=this.nodeConfig.conditionNodes.length+1;this.nodeConfig.conditionNodes.push({nodeName:"条件"+e,type:3,priorityLevel:e,conditionList:[],nodeUserList:[],childNode:null});for(var t=0;t<this.nodeConfig.conditionNodes.length;t++)this.nodeConfig.conditionNodes[t].error="请设置条件"==this.$func.conditionStr(this.nodeConfig,t)&&t!=this.nodeConfig.conditionNodes.length-1;this.$emit("update:nodeConfig",this.nodeConfig)},delTerm:function(e){this.nodeConfig.conditionNodes.splice(e,1),this.nodeConfig.conditionNodes.map((function(e,t){e.priorityLevel=t+1,e.nodeName="条件".concat(t+1)}));for(var t=0;t<this.nodeConfig.conditionNodes.length;t++)this.nodeConfig.conditionNodes[t].error="请设置条件"==this.$func.conditionStr(this.nodeConfig,t)&&t!=this.nodeConfig.conditionNodes.length-1;this.$emit("update:nodeConfig",this.nodeConfig),1==this.nodeConfig.conditionNodes.length&&(this.nodeConfig.childNode&&(this.nodeConfig.conditionNodes[0].childNode?this.reData(this.nodeConfig.conditionNodes[0].childNode,this.nodeConfig.childNode):this.nodeConfig.conditionNodes[0].childNode=this.nodeConfig.childNode),this.$emit("update:nodeConfig",this.nodeConfig.conditionNodes[0].childNode))},reData:function(e,t){e.childNode?this.reData(e.childNode,t):e.childNode=t},setPerson:function(e){var t=this.nodeConfig.type;0==t?(this.$store.commit("updatePromoter",!0),this.$store.commit("updateFlowPermission",{value:this.flowPermission,flag:!1,id:this._uid})):1==t?(this.$store.commit("updateApprover",!0),this.$store.commit("updateApproverConfig",{value:de(de({},JSON.parse(JSON.stringify(this.nodeConfig))),{settype:this.nodeConfig.settype?this.nodeConfig.settype:1}),flag:!1,id:this._uid})):2==t?(this.$store.commit("updateCopyer",!0),this.$store.commit("updateCopyerConfig",{value:JSON.parse(JSON.stringify(this.nodeConfig)),flag:!1,id:this._uid})):(this.$store.commit("updateCondition",!0),this.$store.commit("updateConditionsConfig",{value:JSON.parse(JSON.stringify(this.nodeConfig)),priorityLevel:e,flag:!1,id:this._uid}))},arrTransfer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.nodeConfig.conditionNodes[e]=this.nodeConfig.conditionNodes.splice(e+t,1,this.nodeConfig.conditionNodes[e])[0],this.nodeConfig.conditionNodes.map((function(e,t){e.priorityLevel=t+1}));for(var n=0;n<this.nodeConfig.conditionNodes.length;n++)this.nodeConfig.conditionNodes[n].error="请设置条件"==this.$func.conditionStr(this.nodeConfig,n)&&n!=this.nodeConfig.conditionNodes.length-1;this.$emit("update:nodeConfig",this.nodeConfig)}}},ce=ae,ue=(n("b7dd"),Object(L["a"])(ce,oe,ie,!1,null,null,null)),le=ue.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add-node-btn-box"},[n("div",{staticClass:"add-node-btn"},[n("el-popover",{attrs:{placement:"right-start"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("div",{staticClass:"add-node-popover-body"},[n("a",{staticClass:"add-node-popover-item approver",on:{click:function(t){return e.addType(1)}}},[n("div",{staticClass:"item-wrapper"},[n("span",{staticClass:"iconfont"},[e._v("")])]),n("p",[e._v("审批人")])]),n("a",{staticClass:"add-node-popover-item notifier",on:{click:function(t){return e.addType(2)}}},[n("div",{staticClass:"item-wrapper"},[n("span",{staticClass:"iconfont"},[e._v("")])]),n("p",[e._v("抄送人")])]),n("a",{staticClass:"add-node-popover-item condition",on:{click:function(t){return e.addType(4)}}},[n("div",{staticClass:"item-wrapper"},[n("span",{staticClass:"iconfont"},[e._v("")])]),n("p",[e._v("条件分支")])])]),n("button",{staticClass:"btn",attrs:{slot:"reference",type:"button"},slot:"reference"},[n("span",{staticClass:"iconfont"},[e._v("")])])])],1)])},pe=[],he={props:["childNodeP"],data:function(){return{visible:!1}},methods:{addType:function(e){var t;(this.visible=!1,4!=e)?(1==e?t={nodeName:"审核人",error:!0,type:1,settype:1,selectMode:0,selectRange:0,directorLevel:1,examineMode:1,noHanderAction:1,examineEndDirectorLevel:0,childNode:this.childNodeP,nodeUserList:[]}:2==e&&(t={nodeName:"抄送人",type:2,ccSelfSelectFlag:1,childNode:this.childNodeP,nodeUserList:[]}),this.$emit("update:childNodeP",t)):this.$emit("update:childNodeP",{nodeName:"路由",type:4,childNode:null,conditionNodes:[{nodeName:"条件1",error:!0,type:3,priorityLevel:1,conditionList:[],nodeUserList:[],childNode:this.childNodeP},{nodeName:"条件2",type:3,priorityLevel:2,conditionList:[],nodeUserList:[],childNode:null}]})}}},ge=he,ve=(n("76c1"),n("00fe"),Object(L["a"])(ge,fe,pe,!1,null,"86f00242",null)),Ce=ve.exports;o["default"].component("nodeWrap",le),o["default"].component("addNode",Ce),o["default"].prototype.$func=h,o["default"].config.productionTip=!1,o["default"].directive("enterNumber",{bind:function(e,t){var n=t.value,o=void 0===n?2:n;e="INPUT"==e.nodeName?e:e.children[0];var i=0==o?"^[\\+\\-]?\\d+\\d{0,0}":"^[\\+\\-]?\\d+\\.?\\d{0,".concat(o,"}");e.addEventListener("keyup",(function(){e.value=e.value.match(new RegExp(i,"g")),e.dispatchEvent(new Event("input"))}))}}),o["default"].directive("focus",{inserted:function(e){e.focus()}}),new o["default"]({router:l,store:x,components:{nodeWrap:le,addNode:Ce},render:function(e){return e(T)}}).$mount("#app")},"65f4":function(e,t,n){},"76c1":function(e,t,n){"use strict";n("c635")},aea1:function(e,t,n){},b7dd:function(e,t,n){"use strict";n("65f4")},c635:function(e,t,n){},c8d2:function(e,t,n){}});